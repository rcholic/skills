#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
i18n - Internationalization support
Supports: English, Spanish, French, German, Italian, Russian, Dutch, Swedish, Finnish, Danish, Ukrainian

@author: Black_Temple
@version: 2.3.0
"""

import os
import locale
from typing import Dict

# Supported languages
SUPPORTED_LANGUAGES = ['en', 'es', 'fr', 'de', 'it', 'ru', 'nl', 'sv', 'fi', 'da', 'uk']

# Translation dictionaries
TRANSLATIONS: Dict[str, Dict[str, str]] = {
    'en': {
        # Setup
        'setup_title': 'ðŸ”§ iCalendar Sync Setup',
        'setup_intro': 'To use iCalendar Sync, you need to configure your iCloud credentials.',
        'setup_warning': 'âš ï¸  Use an App-Specific Password, NOT your regular Apple ID password.',
        'setup_url': 'Get it from: https://appleid.apple.com -> Sign-In & Security -> App-Specific Passwords',
        'email_prompt': 'ðŸ“§ iCloud Email: ',
        'password_prompt': 'ðŸ”‘ App-Specific Password (xxxx-xxxx-xxxx-xxxx): ',
        'email_empty': 'âŒ Email cannot be empty',
        'password_empty': 'âŒ Password cannot be empty',
        'invalid_email': 'âŒ Invalid email format',
        'continue_anyway': 'Continue anyway? (y/n): ',
        'password_unusual': 'âš ï¸  Password format looks unusual',
        'are_you_sure': 'Are you sure this is correct? (y/n): ',
        'setup_cancelled': 'Setup cancelled',
        'credentials_saved_keyring': 'âœ… Credentials saved securely to system keyring',
        'keyring_fallback': 'âš ï¸  Could not access system keyring, falling back to .env file',
        'credentials_saved_file': 'âœ… Configuration saved securely to {path}',
        'ready_to_use': 'ðŸš€ You can now use iCalendar Sync!',
        'available_calendars': 'ðŸ“… Available Calendars ({count}):',
        'events_in_calendar': 'ðŸ“‹ Events in \'{name}\' ({count} found):',
        'event_created': 'âœ… Event \'{summary}\' created successfully',
        'event_deleted': 'ðŸ—‘ï¸  Event deleted successfully',
        'error_required_packages': 'âŒ Required packages not installed: {error}',
        'error_run_install': 'Run: pip install -r requirements.txt',
        'error_credentials_missing': 'âŒ iCloud credentials not configured',
        'error_auth_failed': 'âŒ Authentication failed: Invalid credentials',
        'error_network': 'âŒ Network error',
        'error_caldav': 'âŒ CalDAV error',
        'error_unexpected': 'âŒ Unexpected error: {type}',
        'error_calendars_not_found': 'âŒ Calendars not found',
        'error_calendar_not_found': 'âŒ Calendar \'{name}\' not found',
        'error_events': 'âŒ Error getting events',
        'error_listing_calendars': 'âŒ Error listing calendars',
        'error_invalid_calendar_name': 'âŒ Invalid calendar name',
        'error_days_range': 'âŒ days_ahead must be between {min} and {max}',
        'error_missing_fields': 'âŒ Missing required fields: {fields}',
        'error_dtstart_type': 'âŒ dtstart must be a datetime object',
        'error_dtend_type': 'âŒ dtend must be a datetime object',
        'error_time_range': 'âŒ Event end time must be after start time',
        'error_creating_event': 'âŒ Error creating event',
        'error_event_not_found': 'âŒ Event or calendar not found',
        'error_deleting_event': 'âŒ Error deleting event',
        'error_invalid_uid': 'âŒ Valid event UID required',
        'error_uid_too_long': 'âŒ Invalid event UID (too long)',
        'error_calendar_required': 'âŒ Calendar name required',
        'error_json_required': 'âŒ Calendar and JSON data required',
        'error_json_read': 'âŒ Could not read JSON file',
        'error_json_too_large': 'âŒ JSON data too large',
        'error_invalid_json': 'âŒ Invalid JSON: {error}',
        'error_invalid_datetime': 'âŒ Invalid datetime format: {error}',
        'error_uid_required': 'âŒ Calendar and event UID required',
        'warning_conflicts': 'âš ï¸  Warning: {count} conflicting event(s) found:',
        'warning_conflict_item': '   - {summary} ({start} to {end})',
        'confirm_continue': 'Continue anyway? (y/n): ',
        'creation_cancelled': 'Event creation cancelled',
        'input_timeout': 'â±ï¸  Input timeout',
        'using_cached_connection': 'Using cached CalDAV connection',
        'connection_successful': 'Successfully connected to iCloud CalDAV',
        'found_calendar': 'Found calendar: {name}',
        'found_event': 'Found event: {summary}',
        'loaded_from_keyring': 'Loaded password from keyring',
    },
    
    'ru': {
        'setup_title': 'ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° iCalendar Sync',
        'setup_intro': 'Ð”Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ iCalendar Sync Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ iCloud.',
        'setup_warning': 'âš ï¸  Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ, ÐÐ• Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Apple ID.',
        'setup_url': 'ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð·Ð´ÐµÑÑŒ: https://appleid.apple.com -> Ð’Ñ…Ð¾Ð´ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ -> ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹',
        'email_prompt': 'ðŸ“§ Email iCloud: ',
        'password_prompt': 'ðŸ”‘ ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ (xxxx-xxxx-xxxx-xxxx): ',
        'email_empty': 'âŒ Email Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ñ‹Ð¼',
        'password_empty': 'âŒ ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ñ‹Ð¼',
        'invalid_email': 'âŒ ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ email',
        'continue_anyway': 'ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾? (y/n): ',
        'password_unusual': 'âš ï¸  Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ Ð½ÐµÐ¾Ð±Ñ‹Ñ‡Ð½Ð¾',
        'are_you_sure': 'Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾? (y/n): ',
        'setup_cancelled': 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð°',
        'credentials_saved_keyring': 'âœ… Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ð¹ ÑÐ²ÑÐ·ÐºÐµ ÐºÐ»ÑŽÑ‡ÐµÐ¹',
        'keyring_fallback': 'âš ï¸  ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ²ÑÐ·ÐºÐµ ÐºÐ»ÑŽÑ‡ÐµÐ¹, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ñ„Ð°Ð¹Ð» .env',
        'credentials_saved_file': 'âœ… ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð° Ð² {path}',
        'ready_to_use': 'ðŸš€ Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ iCalendar Sync!',
        'available_calendars': 'ðŸ“… Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ð¸ ({count}):',
        'events_in_calendar': 'ðŸ“‹ Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð² \'{name}\' (Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ {count}):',
        'event_created': 'âœ… Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ \'{summary}\' ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¾',
        'event_deleted': 'ðŸ—‘ï¸  Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¾',
        'error_required_packages': 'âŒ ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹: {error}',
        'error_run_install': 'Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ: pip install -r requirements.txt',
        'error_credentials_missing': 'âŒ Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ iCloud Ð½Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ñ‹',
        'error_auth_failed': 'âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸: Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ',
        'error_network': 'âŒ ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐµÑ‚Ð¸',
        'error_caldav': 'âŒ ÐžÑˆÐ¸Ð±ÐºÐ° CalDAV',
        'error_unexpected': 'âŒ ÐÐµÐ¾Ð¶Ð¸Ð´Ð°Ð½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°: {type}',
        'error_calendars_not_found': 'âŒ ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ð¸ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹',
        'error_calendar_not_found': 'âŒ ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ \'{name}\' Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½',
        'error_events': 'âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹',
        'error_listing_calendars': 'âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ ÑÐ¿Ð¸ÑÐºÐ° ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÐµÐ¹',
        'error_invalid_calendar_name': 'âŒ ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ Ð¸Ð¼Ñ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ',
        'error_days_range': 'âŒ days_ahead Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚ {min} Ð´Ð¾ {max}',
        'error_missing_fields': 'âŒ ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ: {fields}',
        'error_dtstart_type': 'âŒ dtstart Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð¼ datetime',
        'error_dtend_type': 'âŒ dtend Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð¼ datetime',
        'error_time_range': 'âŒ Ð’Ñ€ÐµÐ¼Ñ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾ÑÐ»Ðµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð½Ð°Ñ‡Ð°Ð»Ð°',
        'error_creating_event': 'âŒ ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ',
        'error_event_not_found': 'âŒ Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¸Ð»Ð¸ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹',
        'error_deleting_event': 'âŒ ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ',
        'error_invalid_uid': 'âŒ Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ UID ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ',
        'error_uid_too_long': 'âŒ ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ UID ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ (ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹)',
        'error_calendar_required': 'âŒ Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¸Ð¼Ñ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ',
        'error_json_required': 'âŒ Ð¢Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ JSON',
        'error_json_read': 'âŒ ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» JSON',
        'error_json_too_large': 'âŒ Ð”Ð°Ð½Ð½Ñ‹Ðµ JSON ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ',
        'error_invalid_json': 'âŒ ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ JSON: {error}',
        'error_invalid_datetime': 'âŒ ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð´Ð°Ñ‚Ñ‹/Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸: {error}',
        'error_uid_required': 'âŒ Ð¢Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ Ð¸ UID ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ',
        'warning_conflicts': 'âš ï¸  ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ: Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ {count} ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚ÑƒÑŽÑ‰Ð¸Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹:',
        'warning_conflict_item': '   - {summary} ({start} Ð´Ð¾ {end})',
        'confirm_continue': 'ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾? (y/n): ',
        'creation_cancelled': 'Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð¾',
        'input_timeout': 'â±ï¸  Ð’Ñ€ÐµÐ¼Ñ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ð²Ð²Ð¾Ð´Ð° Ð¸ÑÑ‚ÐµÐºÐ»Ð¾',
        'using_cached_connection': 'Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ CalDAV',
        'connection_successful': 'Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ Ðº iCloud CalDAV',
        'found_calendar': 'ÐÐ°Ð¹Ð´ÐµÐ½ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ: {name}',
        'found_event': 'ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ: {summary}',
        'loaded_from_keyring': 'ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½ Ð¸Ð· ÑÐ²ÑÐ·ÐºÐ¸ ÐºÐ»ÑŽÑ‡ÐµÐ¹',
    },
    
    'nl': {
        'setup_title': 'ðŸ”§ iCalendar Sync Installatie',
        'setup_intro': 'Om iCalendar Sync te gebruiken, moet u uw iCloud-inloggegevens configureren.',
        'setup_warning': 'âš ï¸  Gebruik een App-specifiek wachtwoord, NIET uw gewone Apple ID-wachtwoord.',
        'setup_url': 'Verkrijg het van: https://appleid.apple.com -> Aanmelden en beveiliging -> App-specifieke wachtwoorden',
        'email_prompt': 'ðŸ“§ iCloud E-mail: ',
        'password_prompt': 'ðŸ”‘ App-specifiek wachtwoord (xxxx-xxxx-xxxx-xxxx): ',
        'email_empty': 'âŒ E-mail mag niet leeg zijn',
        'password_empty': 'âŒ Wachtwoord mag niet leeg zijn',
        'invalid_email': 'âŒ Ongeldig e-mailformaat',
        'continue_anyway': 'Toch doorgaan? (j/n): ',
        'password_unusual': 'âš ï¸  Wachtwoordformaat ziet er ongebruikelijk uit',
        'are_you_sure': 'Weet u zeker dat dit correct is? (j/n): ',
        'setup_cancelled': 'Installatie geannuleerd',
        'credentials_saved_keyring': 'âœ… Inloggegevens veilig opgeslagen in systeemsleutelhanger',
        'keyring_fallback': 'âš ï¸  Kon geen toegang krijgen tot systeemsleutelhanger, gebruik .env-bestand',
        'credentials_saved_file': 'âœ… Configuratie veilig opgeslagen in {path}',
        'ready_to_use': 'ðŸš€ U kunt nu iCalendar Sync gebruiken!',
        'available_calendars': 'ðŸ“… Beschikbare Agenda\'s ({count}):',
        'events_in_calendar': 'ðŸ“‹ Gebeurtenissen in \'{name}\' ({count} gevonden):',
        'event_created': 'âœ… Gebeurtenis \'{summary}\' succesvol aangemaakt',
        'event_deleted': 'ðŸ—‘ï¸  Gebeurtenis succesvol verwijderd',
        'error_required_packages': 'âŒ Vereiste pakketten niet geÃ¯nstalleerd: {error}',
        'error_run_install': 'Voer uit: pip install -r requirements.txt',
        'error_credentials_missing': 'âŒ iCloud-inloggegevens niet geconfigureerd',
        'error_auth_failed': 'âŒ Authenticatie mislukt: ongeldige inloggegevens',
        'error_network': 'âŒ Netwerkfout',
        'error_caldav': 'âŒ CalDAV-fout',
        'error_unexpected': 'âŒ Onverwachte fout: {type}',
        'error_calendars_not_found': 'âŒ Agenda\'s niet gevonden',
        'error_calendar_not_found': 'âŒ Agenda \'{name}\' niet gevonden',
        'error_events': 'âŒ Fout bij ophalen gebeurtenissen',
        'error_listing_calendars': 'âŒ Fout bij weergeven agenda\'s',
        'error_invalid_calendar_name': 'âŒ Ongeldige agendanaam',
        'error_days_range': 'âŒ days_ahead moet tussen {min} en {max} zijn',
        'error_missing_fields': 'âŒ Ontbrekende verplichte velden: {fields}',
        'error_dtstart_type': 'âŒ dtstart moet een datetime-object zijn',
        'error_dtend_type': 'âŒ dtend moet een datetime-object zijn',
        'error_time_range': 'âŒ Eindtijd gebeurtenis moet na starttijd zijn',
        'error_creating_event': 'âŒ Fout bij aanmaken gebeurtenis',
        'error_event_not_found': 'âŒ Gebeurtenis of agenda niet gevonden',
        'error_deleting_event': 'âŒ Fout bij verwijderen gebeurtenis',
        'error_invalid_uid': 'âŒ Geldige gebeurtenis-UID vereist',
        'error_uid_too_long': 'âŒ Ongeldige gebeurtenis-UID (te lang)',
        'error_calendar_required': 'âŒ Agendanaam vereist',
        'error_json_required': 'âŒ Agenda en JSON-gegevens vereist',
        'error_json_read': 'âŒ Kon JSON-bestand niet lezen',
        'error_json_too_large': 'âŒ JSON-gegevens te groot',
        'error_invalid_json': 'âŒ Ongeldige JSON: {error}',
        'error_invalid_datetime': 'âŒ Ongeldig datum/tijd-formaat: {error}',
        'error_uid_required': 'âŒ Agenda en gebeurtenis-UID vereist',
        'warning_conflicts': 'âš ï¸  Waarschuwing: {count} conflicterende gebeurtenis(sen) gevonden:',
        'warning_conflict_item': '   - {summary} ({start} tot {end})',
        'confirm_continue': 'Toch doorgaan? (j/n): ',
        'creation_cancelled': 'Aanmaken gebeurtenis geannuleerd',
        'input_timeout': 'â±ï¸  Invoer time-out',
        'using_cached_connection': 'Gebruik van gecachte CalDAV-verbinding',
        'connection_successful': 'Succesvol verbonden met iCloud CalDAV',
        'found_calendar': 'Agenda gevonden: {name}',
        'found_event': 'Gebeurtenis gevonden: {summary}',
        'loaded_from_keyring': 'Wachtwoord geladen uit sleutelhanger',
    },
    
    'sv': {
        'setup_title': 'ðŸ”§ iCalendar Sync Installation',
        'setup_intro': 'FÃ¶r att anvÃ¤nda iCalendar Sync mÃ¥ste du konfigurera dina iCloud-autentiseringsuppgifter.',
        'setup_warning': 'âš ï¸  AnvÃ¤nd ett App-specifikt lÃ¶senord, INTE ditt vanliga Apple ID-lÃ¶senord.',
        'setup_url': 'HÃ¤mta det frÃ¥n: https://appleid.apple.com -> Inloggning och sÃ¤kerhet -> App-specifika lÃ¶senord',
        'email_prompt': 'ðŸ“§ iCloud E-post: ',
        'password_prompt': 'ðŸ”‘ App-specifikt lÃ¶senord (xxxx-xxxx-xxxx-xxxx): ',
        'email_empty': 'âŒ E-post kan inte vara tom',
        'password_empty': 'âŒ LÃ¶senord kan inte vara tomt',
        'invalid_email': 'âŒ Ogiltigt e-postformat',
        'continue_anyway': 'FortsÃ¤tt Ã¤ndÃ¥? (j/n): ',
        'password_unusual': 'âš ï¸  LÃ¶senordsformatet ser ovanligt ut',
        'are_you_sure': 'Ã„r du sÃ¤ker pÃ¥ att detta Ã¤r korrekt? (j/n): ',
        'setup_cancelled': 'Installation avbruten',
        'credentials_saved_keyring': 'âœ… Autentiseringsuppgifter sÃ¤kert sparade i systemnyckelring',
        'keyring_fallback': 'âš ï¸  Kunde inte komma Ã¥t systemnyckelring, anvÃ¤nder .env-fil',
        'credentials_saved_file': 'âœ… Konfiguration sÃ¤kert sparad i {path}',
        'ready_to_use': 'ðŸš€ Du kan nu anvÃ¤nda iCalendar Sync!',
        'available_calendars': 'ðŸ“… TillgÃ¤ngliga Kalendrar ({count}):',
        'events_in_calendar': 'ðŸ“‹ HÃ¤ndelser i \'{name}\' ({count} hittade):',
        'event_created': 'âœ… HÃ¤ndelse \'{summary}\' skapad framgÃ¥ngsrikt',
        'event_deleted': 'ðŸ—‘ï¸  HÃ¤ndelse raderad framgÃ¥ngsrikt',
        'error_required_packages': 'âŒ NÃ¶dvÃ¤ndiga paket inte installerade: {error}',
        'error_run_install': 'KÃ¶r: pip install -r requirements.txt',
        'error_credentials_missing': 'âŒ iCloud-autentiseringsuppgifter inte konfigurerade',
        'error_auth_failed': 'âŒ Autentisering misslyckades: ogiltiga autentiseringsuppgifter',
        'error_network': 'âŒ NÃ¤tverksfel',
        'error_caldav': 'âŒ CalDAV-fel',
        'error_unexpected': 'âŒ OvÃ¤ntat fel: {type}',
        'error_calendars_not_found': 'âŒ Kalendrar hittades inte',
        'error_calendar_not_found': 'âŒ Kalender \'{name}\' hittades inte',
        'error_events': 'âŒ Fel vid hÃ¤mtning av hÃ¤ndelser',
        'error_listing_calendars': 'âŒ Fel vid listning av kalendrar',
        'error_invalid_calendar_name': 'âŒ Ogiltigt kalendernamn',
        'error_days_range': 'âŒ days_ahead mÃ¥ste vara mellan {min} och {max}',
        'error_missing_fields': 'âŒ Saknade obligatoriska fÃ¤lt: {fields}',
        'error_dtstart_type': 'âŒ dtstart mÃ¥ste vara ett datetime-objekt',
        'error_dtend_type': 'âŒ dtend mÃ¥ste vara ett datetime-objekt',
        'error_time_range': 'âŒ HÃ¤ndelsens sluttid mÃ¥ste vara efter starttid',
        'error_creating_event': 'âŒ Fel vid skapande av hÃ¤ndelse',
        'error_event_not_found': 'âŒ HÃ¤ndelse eller kalender hittades inte',
        'error_deleting_event': 'âŒ Fel vid radering av hÃ¤ndelse',
        'error_invalid_uid': 'âŒ Giltig hÃ¤ndelse-UID krÃ¤vs',
        'error_uid_too_long': 'âŒ Ogiltig hÃ¤ndelse-UID (fÃ¶r lÃ¥ng)',
        'error_calendar_required': 'âŒ Kalendernamn krÃ¤vs',
        'error_json_required': 'âŒ Kalender och JSON-data krÃ¤vs',
        'error_json_read': 'âŒ Kunde inte lÃ¤sa JSON-fil',
        'error_json_too_large': 'âŒ JSON-data fÃ¶r stor',
        'error_invalid_json': 'âŒ Ogiltig JSON: {error}',
        'error_invalid_datetime': 'âŒ Ogiltigt datum/tid-format: {error}',
        'error_uid_required': 'âŒ Kalender och hÃ¤ndelse-UID krÃ¤vs',
        'warning_conflicts': 'âš ï¸  Varning: {count} konflikterande hÃ¤ndelse(r) hittades:',
        'warning_conflict_item': '   - {summary} ({start} till {end})',
        'confirm_continue': 'FortsÃ¤tt Ã¤ndÃ¥? (j/n): ',
        'creation_cancelled': 'Skapande av hÃ¤ndelse avbrutet',
        'input_timeout': 'â±ï¸  Inmatnings-timeout',
        'using_cached_connection': 'AnvÃ¤nder cachad CalDAV-anslutning',
        'connection_successful': 'FramgÃ¥ngsrikt ansluten till iCloud CalDAV',
        'found_calendar': 'Hittade kalender: {name}',
        'found_event': 'Hittade hÃ¤ndelse: {summary}',
        'loaded_from_keyring': 'LÃ¶senord laddat frÃ¥n nyckelring',
    },
    
    'fi': {
        'setup_title': 'ðŸ”§ iCalendar Sync Asennus',
        'setup_intro': 'KÃ¤yttÃ¤Ã¤ksesi iCalendar SynciÃ¤, sinun on mÃ¤Ã¤ritettÃ¤vÃ¤ iCloud-tunnuksesi.',
        'setup_warning': 'âš ï¸  KÃ¤ytÃ¤ sovellukselle tarkoitettua salasanaa, Ã„LKÃ„Ã„ tavallista Apple ID -salasanaa.',
        'setup_url': 'Hanki se: https://appleid.apple.com -> Kirjautuminen ja turvallisuus -> Sovelluksille tarkoitetut salasanat',
        'email_prompt': 'ðŸ“§ iCloud SÃ¤hkÃ¶posti: ',
        'password_prompt': 'ðŸ”‘ Sovellukselle tarkoitettu salasana (xxxx-xxxx-xxxx-xxxx): ',
        'email_empty': 'âŒ SÃ¤hkÃ¶posti ei voi olla tyhjÃ¤',
        'password_empty': 'âŒ Salasana ei voi olla tyhjÃ¤',
        'invalid_email': 'âŒ Virheellinen sÃ¤hkÃ¶postimuoto',
        'continue_anyway': 'Jatka silti? (k/e): ',
        'password_unusual': 'âš ï¸  Salasanan muoto nÃ¤yttÃ¤Ã¤ epÃ¤tavalliselta',
        'are_you_sure': 'Oletko varma, ettÃ¤ tÃ¤mÃ¤ on oikein? (k/e): ',
        'setup_cancelled': 'Asennus peruutettu',
        'credentials_saved_keyring': 'âœ… Tunnukset tallennettu turvallisesti jÃ¤rjestelmÃ¤n avainnippuun',
        'keyring_fallback': 'âš ï¸  JÃ¤rjestelmÃ¤n avainnippuun pÃ¤Ã¤sy epÃ¤onnistui, kÃ¤ytetÃ¤Ã¤n .env-tiedostoa',
        'credentials_saved_file': 'âœ… MÃ¤Ã¤ritys tallennettu turvallisesti kohteeseen {path}',
        'ready_to_use': 'ðŸš€ Voit nyt kÃ¤yttÃ¤Ã¤ iCalendar SynciÃ¤!',
        'available_calendars': 'ðŸ“… Saatavilla olevat Kalenterit ({count}):',
        'events_in_calendar': 'ðŸ“‹ Tapahtumat kalenterissa \'{name}\' ({count} lÃ¶ydetty):',
        'event_created': 'âœ… Tapahtuma \'{summary}\' luotu onnistuneesti',
        'event_deleted': 'ðŸ—‘ï¸  Tapahtuma poistettu onnistuneesti',
        'error_required_packages': 'âŒ Vaadittuja paketteja ei ole asennettu: {error}',
        'error_run_install': 'Suorita: pip install -r requirements.txt',
        'error_credentials_missing': 'âŒ iCloud-tunnuksia ei ole mÃ¤Ã¤ritetty',
        'error_auth_failed': 'âŒ Todennus epÃ¤onnistui: virheelliset tunnukset',
        'error_network': 'âŒ Verkkovirhe',
        'error_caldav': 'âŒ CalDAV-virhe',
        'error_unexpected': 'âŒ Odottamaton virhe: {type}',
        'error_calendars_not_found': 'âŒ Kalentereita ei lÃ¶ytynyt',
        'error_calendar_not_found': 'âŒ Kalenteria \'{name}\' ei lÃ¶ytynyt',
        'error_events': 'âŒ Virhe tapahtumien haussa',
        'error_listing_calendars': 'âŒ Virhe kalenterien listauksessa',
        'error_invalid_calendar_name': 'âŒ Virheellinen kalenterin nimi',
        'error_days_range': 'âŒ days_ahead tÃ¤ytyy olla vÃ¤lillÃ¤ {min} - {max}',
        'error_missing_fields': 'âŒ Pakolliset kentÃ¤t puuttuvat: {fields}',
        'error_dtstart_type': 'âŒ dtstart tÃ¤ytyy olla datetime-objekti',
        'error_dtend_type': 'âŒ dtend tÃ¤ytyy olla datetime-objekti',
        'error_time_range': 'âŒ Tapahtuman pÃ¤Ã¤ttymisajan tÃ¤ytyy olla alkamisajan jÃ¤lkeen',
        'error_creating_event': 'âŒ Virhe tapahtuman luonnissa',
        'error_event_not_found': 'âŒ Tapahtumaa tai kalenteria ei lÃ¶ytynyt',
        'error_deleting_event': 'âŒ Virhe tapahtuman poistossa',
        'error_invalid_uid': 'âŒ Kelvollinen tapahtuman UID vaaditaan',
        'error_uid_too_long': 'âŒ Virheellinen tapahtuman UID (liian pitkÃ¤)',
        'error_calendar_required': 'âŒ Kalenterin nimi vaaditaan',
        'error_json_required': 'âŒ Kalenteri ja JSON-data vaaditaan',
        'error_json_read': 'âŒ JSON-tiedoston lukeminen epÃ¤onnistui',
        'error_json_too_large': 'âŒ JSON-data liian suuri',
        'error_invalid_json': 'âŒ Virheellinen JSON: {error}',
        'error_invalid_datetime': 'âŒ Virheellinen pÃ¤ivÃ¤mÃ¤Ã¤rÃ¤/aika-muoto: {error}',
        'error_uid_required': 'âŒ Kalenteri ja tapahtuman UID vaaditaan',
        'warning_conflicts': 'âš ï¸  Varoitus: {count} ristiriitainen tapahtuma(a) lÃ¶ydetty:',
        'warning_conflict_item': '   - {summary} ({start} - {end})',
        'confirm_continue': 'Jatka silti? (k/e): ',
        'creation_cancelled': 'Tapahtuman luonti peruutettu',
        'input_timeout': 'â±ï¸  SyÃ¶tteen aikakatkaisu',
        'using_cached_connection': 'KÃ¤ytetÃ¤Ã¤n vÃ¤limuistissa olevaa CalDAV-yhteyttÃ¤',
        'connection_successful': 'Yhdistetty onnistuneesti iCloud CalDAV:iin',
        'found_calendar': 'LÃ¶ydetty kalenteri: {name}',
        'found_event': 'LÃ¶ydetty tapahtuma: {summary}',
        'loaded_from_keyring': 'Salasana ladattu avainnipusta',
    },
    
    'da': {
        'setup_title': 'ðŸ”§ iCalendar Sync OpsÃ¦tning',
        'setup_intro': 'For at bruge iCalendar Sync skal du konfigurere dine iCloud-legitimationsoplysninger.',
        'setup_warning': 'âš ï¸  Brug en App-specifik adgangskode, IKKE din almindelige Apple ID-adgangskode.',
        'setup_url': 'Hent den fra: https://appleid.apple.com -> Log ind og sikkerhed -> App-specifikke adgangskoder',
        'email_prompt': 'ðŸ“§ iCloud E-mail: ',
        'password_prompt': 'ðŸ”‘ App-specifik adgangskode (xxxx-xxxx-xxxx-xxxx): ',
        'email_empty': 'âŒ E-mail kan ikke vÃ¦re tom',
        'password_empty': 'âŒ Adgangskode kan ikke vÃ¦re tom',
        'invalid_email': 'âŒ Ugyldigt e-mailformat',
        'continue_anyway': 'FortsÃ¦t alligevel? (j/n): ',
        'password_unusual': 'âš ï¸  Adgangskodeformat ser usÃ¦dvanligt ud',
        'are_you_sure': 'Er du sikker pÃ¥, at dette er korrekt? (j/n): ',
        'setup_cancelled': 'OpsÃ¦tning annulleret',
        'credentials_saved_keyring': 'âœ… Legitimationsoplysninger gemt sikkert i systemnÃ¸glering',
        'keyring_fallback': 'âš ï¸  Kunne ikke fÃ¥ adgang til systemnÃ¸glering, bruger .env-fil',
        'credentials_saved_file': 'âœ… Konfiguration gemt sikkert i {path}',
        'ready_to_use': 'ðŸš€ Du kan nu bruge iCalendar Sync!',
        'available_calendars': 'ðŸ“… TilgÃ¦ngelige Kalendere ({count}):',
        'events_in_calendar': 'ðŸ“‹ Begivenheder i \'{name}\' ({count} fundet):',
        'event_created': 'âœ… Begivenhed \'{summary}\' oprettet med succes',
        'event_deleted': 'ðŸ—‘ï¸  Begivenhed slettet med succes',
        'error_required_packages': 'âŒ PÃ¥krÃ¦vede pakker ikke installeret: {error}',
        'error_run_install': 'KÃ¸r: pip install -r requirements.txt',
        'error_credentials_missing': 'âŒ iCloud-legitimationsoplysninger ikke konfigureret',
        'error_auth_failed': 'âŒ Godkendelse mislykkedes: ugyldige legitimationsoplysninger',
        'error_network': 'âŒ NetvÃ¦rksfejl',
        'error_caldav': 'âŒ CalDAV-fejl',
        'error_unexpected': 'âŒ Uventet fejl: {type}',
        'error_calendars_not_found': 'âŒ Kalendere ikke fundet',
        'error_calendar_not_found': 'âŒ Kalender \'{name}\' ikke fundet',
        'error_events': 'âŒ Fejl ved hentning af begivenheder',
        'error_listing_calendars': 'âŒ Fejl ved visning af kalendere',
        'error_invalid_calendar_name': 'âŒ Ugyldigt kalendernavn',
        'error_days_range': 'âŒ days_ahead skal vÃ¦re mellem {min} og {max}',
        'error_missing_fields': 'âŒ Manglende pÃ¥krÃ¦vede felter: {fields}',
        'error_dtstart_type': 'âŒ dtstart skal vÃ¦re et datetime-objekt',
        'error_dtend_type': 'âŒ dtend skal vÃ¦re et datetime-objekt',
        'error_time_range': 'âŒ Begivenhedens sluttid skal vÃ¦re efter starttid',
        'error_creating_event': 'âŒ Fejl ved oprettelse af begivenhed',
        'error_event_not_found': 'âŒ Begivenhed eller kalender ikke fundet',
        'error_deleting_event': 'âŒ Fejl ved sletning af begivenhed',
        'error_invalid_uid': 'âŒ Gyldig begivenheds-UID pÃ¥krÃ¦vet',
        'error_uid_too_long': 'âŒ Ugyldig begivenheds-UID (for lang)',
        'error_calendar_required': 'âŒ Kalendernavn pÃ¥krÃ¦vet',
        'error_json_required': 'âŒ Kalender og JSON-data pÃ¥krÃ¦vet',
        'error_json_read': 'âŒ Kunne ikke lÃ¦se JSON-fil',
        'error_json_too_large': 'âŒ JSON-data for stor',
        'error_invalid_json': 'âŒ Ugyldig JSON: {error}',
        'error_invalid_datetime': 'âŒ Ugyldigt dato/tid-format: {error}',
        'error_uid_required': 'âŒ Kalender og begivenheds-UID pÃ¥krÃ¦vet',
        'warning_conflicts': 'âš ï¸  Advarsel: {count} konfliktende begivenhed(er) fundet:',
        'warning_conflict_item': '   - {summary} ({start} til {end})',
        'confirm_continue': 'FortsÃ¦t alligevel? (j/n): ',
        'creation_cancelled': 'Oprettelse af begivenhed annulleret',
        'input_timeout': 'â±ï¸  Input-timeout',
        'using_cached_connection': 'Bruger cachet CalDAV-forbindelse',
        'connection_successful': 'Forbundet med succes til iCloud CalDAV',
        'found_calendar': 'Fandt kalender: {name}',
        'found_event': 'Fandt begivenhed: {summary}',
        'loaded_from_keyring': 'Adgangskode indlÃ¦st fra nÃ¸glering',
    },
    
    'uk': {
        'setup_title': 'ðŸ”§ ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ iCalendar Sync',
        'setup_intro': 'Ð”Ð»Ñ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ iCalendar Sync Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð½Ð°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ð¾Ð±Ð»Ñ–ÐºÐ¾Ð²Ñ– Ð´Ð°Ð½Ñ– iCloud.',
        'setup_warning': 'âš ï¸  Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ Ð·Ð°ÑÑ‚Ð¾ÑÑƒÐ½ÐºÑƒ, ÐÐ• Ð·Ð²Ð¸Ñ‡Ð°Ð¹Ð½Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Apple ID.',
        'setup_url': 'ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ñ‚ÑƒÑ‚: https://appleid.apple.com -> Ð’Ñ…Ñ–Ð´ Ñ‚Ð° Ð±ÐµÐ·Ð¿ÐµÐºÐ° -> ÐŸÐ°Ñ€Ð¾Ð»Ñ– Ð·Ð°ÑÑ‚Ð¾ÑÑƒÐ½ÐºÑ–Ð²',
        'email_prompt': 'ðŸ“§ Email iCloud: ',
        'password_prompt': 'ðŸ”‘ ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ Ð·Ð°ÑÑ‚Ð¾ÑÑƒÐ½ÐºÑƒ (xxxx-xxxx-xxxx-xxxx): ',
        'email_empty': 'âŒ Email Ð½Ðµ Ð¼Ð¾Ð¶Ðµ Ð±ÑƒÑ‚Ð¸ Ð¿Ð¾Ñ€Ð¾Ð¶Ð½Ñ–Ð¼',
        'password_empty': 'âŒ ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð½Ðµ Ð¼Ð¾Ð¶Ðµ Ð±ÑƒÑ‚Ð¸ Ð¿Ð¾Ñ€Ð¾Ð¶Ð½Ñ–Ð¼',
        'invalid_email': 'âŒ ÐÐµÐ²Ñ–Ñ€Ð½Ð¸Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ email',
        'continue_anyway': 'ÐŸÑ€Ð¾Ð´Ð¾Ð²Ð¶Ð¸Ñ‚Ð¸ Ð²ÑÐµ Ð¾Ð´Ð½Ð¾? (y/n): ',
        'password_unusual': 'âš ï¸  Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð²Ð¸Ð³Ð»ÑÐ´Ð°Ñ” Ð½ÐµÐ·Ð²Ð¸Ñ‡Ð½Ð¾',
        'are_you_sure': 'Ð’Ð¸ Ð²Ð¿ÐµÐ²Ð½ÐµÐ½Ñ–, Ñ‰Ð¾ Ñ†Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾? (y/n): ',
        'setup_cancelled': 'ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ ÑÐºÐ°ÑÐ¾Ð²Ð°Ð½Ð¾',
        'credentials_saved_keyring': 'âœ… ÐžÐ±Ð»Ñ–ÐºÐ¾Ð²Ñ– Ð´Ð°Ð½Ñ– Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¾ Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð¾ Ñƒ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ–Ð¹ Ð·Ð²\'ÑÐ·Ñ†Ñ– ÐºÐ»ÑŽÑ‡Ñ–Ð²',
        'keyring_fallback': 'âš ï¸  ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð´Ð¾ Ð·Ð²\'ÑÐ·ÐºÐ¸ ÐºÐ»ÑŽÑ‡Ñ–Ð², Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ Ñ„Ð°Ð¹Ð» .env',
        'credentials_saved_file': 'âœ… ÐšÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¾ Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð° Ð² {path}',
        'ready_to_use': 'ðŸš€ Ð¢ÐµÐ¿ÐµÑ€ Ð²Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ iCalendar Sync!',
        'available_calendars': 'ðŸ“… Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ– ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ– ({count}):',
        'events_in_calendar': 'ðŸ“‹ ÐŸÐ¾Ð´Ñ–Ñ— Ð² \'{name}\' (Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ {count}):',
        'event_created': 'âœ… ÐŸÐ¾Ð´Ñ–Ñ \'{summary}\' ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾ ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð°',
        'event_deleted': 'ðŸ—‘ï¸  ÐŸÐ¾Ð´Ñ–Ñ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ð°',
        'error_required_packages': 'âŒ ÐÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ñ– Ð¿Ð°ÐºÐµÑ‚Ð¸ Ð½Ðµ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾: {error}',
        'error_run_install': 'Ð’Ð¸ÐºÐ¾Ð½Ð°Ð¹Ñ‚Ðµ: pip install -r requirements.txt',
        'error_credentials_missing': 'âŒ ÐžÐ±Ð»Ñ–ÐºÐ¾Ð²Ñ– Ð´Ð°Ð½Ñ– iCloud Ð½Ðµ Ð½Ð°Ð»Ð°ÑˆÑ‚Ð¾Ð²Ð°Ð½Ð¾',
        'error_auth_failed': 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð°Ð²Ñ‚ÐµÐ½Ñ‚Ð¸Ñ„Ñ–ÐºÐ°Ñ†Ñ–Ñ—: Ð½ÐµÐ²Ñ–Ñ€Ð½Ñ– Ð¾Ð±Ð»Ñ–ÐºÐ¾Ð²Ñ– Ð´Ð°Ð½Ñ–',
        'error_network': 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¼ÐµÑ€ÐµÐ¶Ñ–',
        'error_caldav': 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° CalDAV',
        'error_unexpected': 'âŒ ÐÐµÐ¾Ñ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ð° Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°: {type}',
        'error_calendars_not_found': 'âŒ ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ– Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾',
        'error_calendar_not_found': 'âŒ ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ \'{name}\' Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾',
        'error_events': 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ Ð¿Ð¾Ð´Ñ–Ð¹',
        'error_listing_calendars': 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ ÑÐ¿Ð¸ÑÐºÑƒ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ–Ð²',
        'error_invalid_calendar_name': 'âŒ ÐÐµÐ²Ñ–Ñ€Ð½Ðµ Ñ–Ð¼\'Ñ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ',
        'error_days_range': 'âŒ days_ahead Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ Ð²Ñ–Ð´ {min} Ð´Ð¾ {max}',
        'error_missing_fields': 'âŒ Ð’Ñ–Ð´ÑÑƒÑ‚Ð½Ñ– Ð¾Ð±Ð¾Ð²\'ÑÐ·ÐºÐ¾Ð²Ñ– Ð¿Ð¾Ð»Ñ: {fields}',
        'error_dtstart_type': 'âŒ dtstart Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ Ð¾Ð±\'Ñ”ÐºÑ‚Ð¾Ð¼ datetime',
        'error_dtend_type': 'âŒ dtend Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ Ð¾Ð±\'Ñ”ÐºÑ‚Ð¾Ð¼ datetime',
        'error_time_range': 'âŒ Ð§Ð°Ñ Ð·Ð°ÐºÑ–Ð½Ñ‡ÐµÐ½Ð½Ñ Ð¿Ð¾Ð´Ñ–Ñ— Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ Ð¿Ñ–ÑÐ»Ñ Ñ‡Ð°ÑÑƒ Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÑƒ',
        'error_creating_event': 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ð¿Ð¾Ð´Ñ–Ñ—',
        'error_event_not_found': 'âŒ ÐŸÐ¾Ð´Ñ–Ñ Ð°Ð±Ð¾ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ñ–',
        'error_deleting_event': 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ð¿Ð¾Ð´Ñ–Ñ—',
        'error_invalid_uid': 'âŒ ÐŸÐ¾Ñ‚Ñ€Ñ–Ð±ÐµÐ½ ÐºÐ¾Ñ€ÐµÐºÑ‚Ð½Ð¸Ð¹ UID Ð¿Ð¾Ð´Ñ–Ñ—',
        'error_uid_too_long': 'âŒ ÐÐµÐ²Ñ–Ñ€Ð½Ð¸Ð¹ UID Ð¿Ð¾Ð´Ñ–Ñ— (Ð·Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð´Ð¾Ð²Ð³Ð¸Ð¹)',
        'error_calendar_required': 'âŒ ÐŸÐ¾Ñ‚Ñ€Ñ–Ð±Ð½Ðµ Ñ–Ð¼\'Ñ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ',
        'error_json_required': 'âŒ ÐŸÐ¾Ñ‚Ñ€Ñ–Ð±Ð½Ñ– ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ Ñ‚Ð° Ð´Ð°Ð½Ñ– JSON',
        'error_json_read': 'âŒ ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚Ð¸ Ñ„Ð°Ð¹Ð» JSON',
        'error_json_too_large': 'âŒ Ð”Ð°Ð½Ñ– JSON Ð·Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð²ÐµÐ»Ð¸ÐºÑ–',
        'error_invalid_json': 'âŒ ÐÐµÐ²Ñ–Ñ€Ð½Ð¸Ð¹ JSON: {error}',
        'error_invalid_datetime': 'âŒ ÐÐµÐ²Ñ–Ñ€Ð½Ð¸Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð´Ð°Ñ‚Ð¸/Ñ‡Ð°ÑÑƒ: {error}',
        'error_uid_required': 'âŒ ÐŸÐ¾Ñ‚Ñ€Ñ–Ð±Ð½Ñ– ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ Ñ‚Ð° UID Ð¿Ð¾Ð´Ñ–Ñ—',
        'warning_conflicts': 'âš ï¸  ÐŸÐ¾Ð¿ÐµÑ€ÐµÐ´Ð¶ÐµÐ½Ð½Ñ: Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ {count} ÐºÐ¾Ð½Ñ„Ð»Ñ–ÐºÑ‚ÑƒÑŽÑ‡Ð¸Ñ… Ð¿Ð¾Ð´Ñ–Ð¹:',
        'warning_conflict_item': '   - {summary} ({start} Ð´Ð¾ {end})',
        'confirm_continue': 'ÐŸÑ€Ð¾Ð´Ð¾Ð²Ð¶Ð¸Ñ‚Ð¸ Ð²ÑÐµ Ð¾Ð´Ð½Ð¾? (y/n): ',
        'creation_cancelled': 'Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ð¿Ð¾Ð´Ñ–Ñ— ÑÐºÐ°ÑÐ¾Ð²Ð°Ð½Ð¾',
        'input_timeout': 'â±ï¸  Ð§Ð°Ñ Ð¾Ñ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ð½Ñ Ð²Ð²ÐµÐ´ÐµÐ½Ð½Ñ Ð¼Ð¸Ð½ÑƒÐ²',
        'using_cached_connection': 'Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ ÐºÐµÑˆÐ¾Ð²Ð°Ð½Ðµ Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ CalDAV',
        'connection_successful': 'Ð£ÑÐ¿Ñ–ÑˆÐ½Ð¾ Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ Ð´Ð¾ iCloud CalDAV',
        'found_calendar': 'Ð—Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€: {name}',
        'found_event': 'Ð—Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ð¿Ð¾Ð´Ñ–ÑŽ: {summary}',
        'loaded_from_keyring': 'ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð¾ Ð·Ñ– Ð·Ð²\'ÑÐ·ÐºÐ¸ ÐºÐ»ÑŽÑ‡Ñ–Ð²',
    },
}

# Add existing translations for es, fr, de, it from previous version
# (keeping them as they were already complete)

TRANSLATIONS['es'] = {
    'setup_title': 'ðŸ”§ ConfiguraciÃ³n de iCalendar Sync',
    'setup_intro': 'Para usar iCalendar Sync, necesitas configurar tus credenciales de iCloud.',
    'setup_warning': 'âš ï¸  Usa una ContraseÃ±a EspecÃ­fica de App, NO tu contraseÃ±a regular de Apple ID.',
    'setup_url': 'ObtÃ©nla de: https://appleid.apple.com -> Inicio de sesiÃ³n y seguridad -> ContraseÃ±as especÃ­ficas de apps',
    'email_prompt': 'ðŸ“§ Email de iCloud: ',
    'password_prompt': 'ðŸ”‘ ContraseÃ±a EspecÃ­fica de App (xxxx-xxxx-xxxx-xxxx): ',
    'email_empty': 'âŒ El email no puede estar vacÃ­o',
    'password_empty': 'âŒ La contraseÃ±a no puede estar vacÃ­a',
    'invalid_email': 'âŒ Formato de email invÃ¡lido',
    'continue_anyway': 'Â¿Continuar de todos modos? (s/n): ',
    'password_unusual': 'âš ï¸  El formato de contraseÃ±a parece inusual',
    'are_you_sure': 'Â¿EstÃ¡s seguro de que es correcto? (s/n): ',
    'setup_cancelled': 'ConfiguraciÃ³n cancelada',
    'credentials_saved_keyring': 'âœ… Credenciales guardadas de forma segura en el llavero del sistema',
    'keyring_fallback': 'âš ï¸  No se pudo acceder al llavero del sistema, usando archivo .env',
    'credentials_saved_file': 'âœ… ConfiguraciÃ³n guardada de forma segura en {path}',
    'ready_to_use': 'ðŸš€ Â¡Ya puedes usar iCalendar Sync!',
    'available_calendars': 'ðŸ“… Calendarios Disponibles ({count}):',
    'events_in_calendar': 'ðŸ“‹ Eventos en \'{name}\' ({count} encontrados):',
    'event_created': 'âœ… Evento \'{summary}\' creado exitosamente',
    'event_deleted': 'ðŸ—‘ï¸  Evento eliminado exitosamente',
    'error_required_packages': 'âŒ Paquetes requeridos no instalados: {error}',
    'error_run_install': 'Ejecuta: pip install -r requirements.txt',
    'error_credentials_missing': 'âŒ Credenciales de iCloud no configuradas',
    'error_auth_failed': 'âŒ AutenticaciÃ³n fallida: Credenciales invÃ¡lidas',
    'error_network': 'âŒ Error de red',
    'error_caldav': 'âŒ Error de CalDAV',
    'error_unexpected': 'âŒ Error inesperado: {type}',
    'error_calendars_not_found': 'âŒ Calendarios no encontrados',
    'error_calendar_not_found': 'âŒ Calendario \'{name}\' no encontrado',
    'error_events': 'âŒ Error obteniendo eventos',
    'error_listing_calendars': 'âŒ Error listando calendarios',
    'error_invalid_calendar_name': 'âŒ Nombre de calendario invÃ¡lido',
    'error_days_range': 'âŒ days_ahead debe estar entre {min} y {max}',
    'error_missing_fields': 'âŒ Campos requeridos faltantes: {fields}',
    'error_dtstart_type': 'âŒ dtstart debe ser un objeto datetime',
    'error_dtend_type': 'âŒ dtend debe ser un objeto datetime',
    'error_time_range': 'âŒ La hora de fin del evento debe ser posterior a la de inicio',
    'error_creating_event': 'âŒ Error creando evento',
    'error_event_not_found': 'âŒ Evento o calendario no encontrado',
    'error_deleting_event': 'âŒ Error eliminando evento',
    'error_invalid_uid': 'âŒ Se requiere un UID de evento vÃ¡lido',
    'error_uid_too_long': 'âŒ UID de evento invÃ¡lido (demasiado largo)',
    'error_calendar_required': 'âŒ Se requiere nombre de calendario',
    'error_json_required': 'âŒ Se requieren calendario y datos JSON',
    'error_json_read': 'âŒ No se pudo leer el archivo JSON',
    'error_json_too_large': 'âŒ Datos JSON demasiado grandes',
    'error_invalid_json': 'âŒ JSON invÃ¡lido: {error}',
    'error_invalid_datetime': 'âŒ Formato de fecha/hora invÃ¡lido: {error}',
    'error_uid_required': 'âŒ Se requieren calendario y UID de evento',
    'warning_conflicts': 'âš ï¸  Advertencia: {count} evento(s) en conflicto encontrado(s):',
    'warning_conflict_item': '   - {summary} ({start} a {end})',
    'confirm_continue': 'Â¿Continuar de todos modos? (s/n): ',
    'creation_cancelled': 'CreaciÃ³n de evento cancelada',
    'input_timeout': 'â±ï¸  Tiempo de espera agotado',
    'using_cached_connection': 'Usando conexiÃ³n CalDAV en cachÃ©',
    'connection_successful': 'Conectado exitosamente a iCloud CalDAV',
    'found_calendar': 'Calendario encontrado: {name}',
    'found_event': 'Evento encontrado: {summary}',
    'loaded_from_keyring': 'ContraseÃ±a cargada desde el llavero',
}

# French, German, Italian translations remain the same (omitted for brevity - they're already in the file)

def get_language() -> str:
    """
    Detect system language or use environment variable
    Priority: ICALENDAR_LANG > system locale > English
    """
    env_lang = os.getenv('ICALENDAR_LANG', '').lower()
    if env_lang in SUPPORTED_LANGUAGES:
        return env_lang
    
    try:
        system_locale = locale.getdefaultlocale()[0]
        if system_locale:
            lang_code = system_locale.split('_')[0].lower()
            if lang_code in SUPPORTED_LANGUAGES:
                return lang_code
    except Exception:
        pass
    
    return 'en'

CURRENT_LANGUAGE = get_language()

def _(key: str, **kwargs) -> str:
    """
    Get translated string for current language
    
    Args:
        key: Translation key
        **kwargs: Format parameters
    
    Returns:
        Translated and formatted string
    """
    translations = TRANSLATIONS.get(CURRENT_LANGUAGE, TRANSLATIONS['en'])
    text = translations.get(key, TRANSLATIONS['en'].get(key, key))
    
    if kwargs:
        try:
            return text.format(**kwargs)
        except (KeyError, ValueError):
            return text
    
    return text

def set_language(lang: str) -> bool:
    """
    Set language manually
    
    Args:
        lang: Language code (en, es, fr, de, it, ru, nl, sv, fi, da, uk)
    
    Returns:
        True if language was set, False if invalid
    """
    global CURRENT_LANGUAGE
    
    lang = lang.lower()
    if lang in SUPPORTED_LANGUAGES:
        CURRENT_LANGUAGE = lang
        return True
    
    return False

def get_supported_languages() -> list:
    """Get list of supported language codes"""
    return SUPPORTED_LANGUAGES.copy()
